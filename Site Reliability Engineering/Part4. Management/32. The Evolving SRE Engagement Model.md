### 요약
```
SRE 는 안정성에 확실한 공헌을 할 수 있는 프러덕션(계측,모니터링,성능) 책임을 지려고한다.
SRE 의 참여 모델은 이미 런치된 서비스를 대상으로 하는 PRR 모델에서,
설계단계부터 신뢰성을 도모하기 위한 조기 참여 모델,
그리고 스케일이 용이한 가능한 프레임워크와 플랫폼 모델로 진화했다.
프러덕션 모범사례의 코드 패턴들이 프레임워크 안에 표준화되고 캡슐화 되었고, 
제품 개발자들은 이에 의존해 서비스를 개발하면서 일관성과 효율성에서 이점을 얻게 되었고 서비스의 신뢰성도 향상되었다.
플랫폼을 통해서 SRE 에게 모든 서비스에 대해 프러덕션 기능에 대한 균일한 인터페이스가 제공되었다.
```


# The Evolving SRE Engagement Model (진화하는 SRE 참여 모델)

# SRE Engagement: What, How, and Why
모든 서비스들이 SRE 의 지원을 받으면서 라이프사이클을 시작하는건 아니다. 
따라서 추후에 SRE 를 도입하는 프로세스가 필요하며, 이 프로세스를 통해서 그것이 SRE 지원을 받을만한 가치가 있는지,
지원을 막는 결함이 있는지 평가하고 이것을 온보딩이라고 부른다.
위와 같은 방법외에도 SRE 를 효과적으로 지원하는 방법이 두가지 있다.
하나는 서비스의 설계단계부터 SRE 를 참여시켜서 SRE 지원의 이점을 빠르게 누리는것이다.(버그는 일찍 고칠 수록 비용이 적다.) 
다른 하나는 각각의 시스템들이 SRE 의 지원을 받기위한 과정을 단축시키는 것으로,
SRE 가 검증한 인프라스트럭쳐 플랫폼을 제품개발팀에게 제공하는 것이다.
이러한 플랫폼은 신뢰성과 확장성 이라는 이점을 제공하고, 공통된 인프라 실천을 해결함으로써 제품개발팀이 어플리케이션 레이어에 혁신 할 수 있도록 하는 것이다. 

# The PRR Model
PRR 은 서비스의 특정한 디테일에 기초하여 그것의 안정성 요구사항을 식별하는 프로세스다. 
(PRR: a process that identifies the reliability needs of a service based on its specific details)
PRR 은 SRE 팀이 프러덕션 측면을 관리하는 책임을 수락하기 위한 전제조건으로 간주된다.
(A PRR is considered a prerequisite for an SRE team to accept responsibility for managing the production aspects of a service.)
PRR 모델은 SRE 참여의 가장 기초적인 단계다.

# The SRE Engagement Model
SRE 서비스의 안정성에 확실한 공헌을 할 수 있는 프러덕션 책임을 맞고자 한다. 여기서 프러덕션이란 SRE 가 관심을 두는 서비스의 여러 측면을 이야기 한다.
- System architecture and interservice dependencies
- Instrumentation, metrics, and monitoring
- Emergency response
- Capacity planning
- Change management
- Performance: availability, latency, and efficiency
SRE 가 참여하게 되면 위의 모든 축을 개선하는것을 목표로 한다.
※ instrumentation : (조절을 하는)기계장치, 계측
- 
## Alternative Support
모든 서비스에 SRE 가 밀접하게 참여 할 수 없기 때문에 다음과 같은 옵션이 제공되기도 한다.
- Documentation: Google Production Guide 는 서비스를위한 프러덕션의 모범사례를 문서화 한 것이고, 개발자는 이 문서에 제시된 해결책과 권장사항을 구현함으로써 자신들의 서비스를 개선할 수 있다. 
- Consultation: 특정 문제 영역에 대해서 논의하기 위해 SRE 컨설팅을 찾을 수 있다. 특히 Launch 단계에서 LCE 와 SRE 가 컨설팅을 하는 경우가 많다.

런치된 이후로 몇배나 성장하거나, 다른 서비스들이 의존하면서 트래픽이 급증한 서비스는 유저에게 점점 중요해짐과 동시에 프러덕션에서 상당한 어려움에 직면하게 된다.
이런 경우 그 서비스들이 성장할 때 프러덕션에서 서비스가 잘 관리되도록 하기기 위해서 장기간의 SRE 참여기 필수적이게 된다.

# Production Readiness Reviews: Simple PRR Model
PRR 목표는, 서비스가 프러덕션 단계 및 운영적인 준비상태가 SRE의 지원을 받을 수 있는 기준을 충족하는지 확인하고, 프러덕션의 안정성을 개선하는 것 이다.
서비스가 충분히 개선되어서 SRE 의 지원을 받을 준비가 되었다고 보이면, SRE 는 프러덕션 책임을 맡는다. 이 자체가 PRR 프로세스이다.

## Engagement
SREs 들이 PRR 프로세스를 수행한다. 목표는 프로세스와 목표(SLO), 성과물에 대한 공통된 합의를 형성하는 것이다.

## Analysis
분석은 첫번째 큰 작업 단위이다. 다양한 축의 SRE 관심사에 있어서 서비스의 성숙도를 측정하는게 목표이다.
SRE 팀은 이 단계에서 PRR 체크리스트를 작성하고 관리한다.
이 체크리스트는 유사한 시스템의 도메인 전문가, 전문지식 프러덕션 가이드의 베스트 프랙티스에 기초한다.
사고 및 사후분석, 그에 따른 후속작업또한 분석하는데, 이것으로 서비스가 요구하는 비상대응 수준 및 운영 성숙도를 판단할 수 있다. 

## Improvement and Refactoring
분석이 서비스에 대한 관장되는 개선을 식별해 냈다면, 개선 및 리팩터링 단계는 다음과 같은 순서로 진행된다.
- 서비스의 안정성에 대한 중요도에 기초해서 개선의 우선순위가 정해진다.
- 우선순위는 제품개발팀과 논의된다. 실행 계획에 동의한다.
- 서비스의 리팩터링과 추가 구현에 같이 참여하고 지원한다.
이 단계는 여러 요소에 의해서 영향을 받기 때문에 노력의 양 그리고 기간이 다양하다.

## Training
PRR 을 리드하는 SRE 엔지니어가 트레이닝 팀의 오너쉽을 가진다.
트레이닝 세션과 연습은 다음과 같은 교육이 포함될 수 있다. 
- 설계 개요
- 시스템의 다양한 요청흐름에 대한 탐구
- 프러덕션 구성에 대한 설명
- 시스템의 운영 측면에 대한 다양한 연습
트레이닝이 수행되면 SRE 팀은 서비스를 관리할 준비가 되어야 한다.

## Onboarding
트레이닝 단계는 온보딩으로 이어진다. 이 단계에서 서비스의 다양한 프러덕션 측면의 책임 및 소유권 이동이 수반된다.
프러덕션 관리가 자리잡을 때 까지 제품개발팀의 지원 및 조언이 필수적이며 이 관계가 이후 작업의 팀간 관계의 기초가 된다.

## Continuous Improvement
활상화된 서비스는 새로운 요구와 상황에 대한 응답으로 끈임없이 변한다.
SRE 팀은 지속적인 개선을 추진함으로써 직면한 변화에서 서비스 안정성 표준을 관리해야 한다.
SRE 가 운영을 통해 배운 지식은 새로운 기능이나 컴퍼넌트가 추가 등 서비스가 변경될 될 때마다 제안 및 권고 형태로 제품 개발팀에 공유된다.
교훈들은 모범사례로 정리되어서 Production Guide 를 비롯한 다양한 문서에 반영된다.

## Engaging with Shakespeare
shakespeare 서비스는 제품 개발팀이 운영책임을 가지고 있었지만 서비스가 중요해지면서 SRE 가 지원을 하는게 바람직하게 되었다.
SRE 는 PRR 을 진행했고 SLO 에는 정의되어있지만 대쉬보드에서 확인할 수 없었던 메트릭이 있었다. 
이것을 수정한 후에 SRE 는 운영책임을 맡았다. SRE 는 온콜 미팅에서 인프라스트럭쳐의 변경에 대한 대응 방법을 논의했다.
향후 서비스의 론칭이 문제 없이 이루어질 수 있도록 이또한 SRE 와 함께 논의되었다.  

# Evolving the Simple PRR Model: Early Engagement
Simple PRR Model 에서 사용되는 PRR 은 다음과 같은 한계가 있다.
- 팀간의 추가적인 커뮤니케이션이 절차의 오버헤드를 증가시킬 수 있다.
- 기존에 SRE 참여에 더해서 SRE 가 가용해야 한다.
- 효과적인 지식 공유를 위해서 SRE 의 일이 제품 개발팀에 의해서 리뷰되어야 한다. 이는 외부 유닛이 아닌 제품개발팀의 일부로 일하게 된다. 
PRR 모델의 한계는 SRE 의 참여가 개발 사이클의 늦은 단계에서 시작된다는 사실에서 파생된다.
SRE 가 개발 사이클의 이른 단계에 참여하게 되면, 서비스의 잠재적인 이슈를 고칠 기회가 훨씬 더 커질 것이고,
이는 서비스의 성공 및 SRE 참여의 성공또한 개선될 것이다.

## Candidates for Early Engagement
조기 참여 모델은 SRE 가 개발 사이클의 이른 단계에 참여하는 것으로 상당한 추가적인 이점을 성취하는 모델이다.
조기 참여 모델에서는 서비스의 비지니스 가치 및 중요성, SRE 의 전문지식이 도움이 될 정도의 복잡도나 규모가 있는지를 판단한다.
이 모델은 SRE 를 개발 프로세스 전반에 참여시키는 방식으로, 설계단계부터 참여하여 이후 어느 단계에서든 서비스를 인수 할 수 있다.

## Benefits of the Early Engagement Model
조기참여는 수명주기 후반에 참여하는것에 비해서 상당한 이점을 얻을 수 있다.
### Design Phase
SRE 이 조기에 디자인에 참여하면 이후에 프러덕션에서 발생할 수 있는 많은 문제들을 예방할 수 있다.
설계결정은 나중에 바뀔수 있는데 생명주기 후반에는 비용이 많이 든다.
어려운 트레이드오프는 덜 이상적인 설계를 선택하게 만드는데 설계단계에서 SRE 가 참여한다는 것은
이러한 트레이드오프를 처음부터 인지하고 있다는 것을 의미한다.

### Build and implementation
빌드 단계는 계측과 자원사용 효율성과 같은 운영 측면을 다른다.
SRE 가 참여하면 구체적인 기존 라이브러리나 특정 제어 기능을 시스템에 포함시키는 것으로 구현에 영향을 주고 개선할 수 있다.
이로 인해 미래의 운영을 더욱 쉽게 만들 수 있다.

### Launch
SRE 는 널리 사용되는 런치 패턴이나 제어의 구현을 도울 수 있다.
일부 트래픽을 새로운 서비스로 보내는 "다크 런치" 같은 설정을 사용하면 유저에게 영향을 끼지치 않고,
운영 인사이트를 얻고 이슈를 해결할 수 있다.
부드러운 런치는 운영부담을 낮게 유지하고 개발 모멘텀을 관리하는데 도움이 된다.
런치를 눌러싼 방해는 쉽게 긴급한 소스코드 변경이나 프러덕션 변경을 야기하기 때문에 제품 개발팀을 방해할 수 있다. 

### Post-Launch
서비스의 이후 단계에서 이전 단계에서의 가르침은 이후 리팩터링이나 재설계를 잘 이 끌 수 있다.

더 길고 긴밀한 참여는 SRE 와 제품 개발팀 간에 길게 유지되는 관계를 만든다.
긍정적인 cross-team 관계는 상호 연대를 만들고, SRE 가 프러덕션 책임에 대한 소유권을 세우는데 도움이 된다.

## Dis-engaging from a service (서비스로 부터의 철수)
때로는 서비스가 SRE 관리를 받게되지 않는 경우가 있다. 런치 이후에 이러한 결정이 내려질 수 있는데
이는 긍정적인 사인이다. 왜나하면 서비스가 안정적이고 유지보수가 적음으로 제품 개발팀의 소유로 남는 것 이기 때문이다.
또는 제시된 사용 수준을 맞추지 못한경우에도 SRE 의 철수가 가능한데, 이는 SRE 의 노력을 다른 곳에 쓰는 것이 더 효율적이기 때문이다.
SRE 팀은 재 할당되며 배운 가르침들은 다시 참여 프로세스에 통함될 수 있다.

# Evolving Services Development: Frameworks and SRE Platform
조기참여를 넘어서 신뢰성을 위한 설계를 통해 위한 SRE 참여를 다음 수준으로 확장하기 위한 이루어야 할 진보가 있었다.
## Lesson Learned
- 서비스 온보딩에 많은 인력과 시간이 필요했고, 필요한 노력의 양은 서비스 수에 비례했고, 서비스 인수가 엄격한 수선순위에 의해 줄세워졌다.
- 서비스들에 걸친 소프트웨어 실천이 상이함으로, PRR 에 의해서 도출된 표준을 준수하기 위해 기능들은 각각의 서비스에서 다시 구현되었고, 이는 엔지니어링 노력의 낭비였다.
- 서비스들의 문제점과 중단은 비슷한 패턴으로 나타나지만, 서비스에 걸쳐서 이것의 수정과 개선을 쉽게 복제하는 방법이 없었다.
- SRE 의 공헌은 특정 서비스에 국한 되어있었고, 재사용 가능한 일반화된 솔루션을 만드는것은 어려웠다. 그 결과, 각각의 SRE 팀이 여러 서비스에 걸쳐서 배운 교훈 및 모범사례를 쉽게 구현하는 방법이 없었다.    

## External Factors Affecting SRE
MSA 트랜드에 따른 서비스 분리와 그에 따라 심화된 SREs 수요로 인해 기존 컨셉과 참여 모델을 뛰어넘는 확장된 모델이 요구되었다.

## Toward a Structural Solution: Frameworks (Structural Solution ≒ Frameworks)
이러한 조건에 효과적으로 대응하기 위해 다음과 같은 원칙들을 감안한 모델을 개발하는 것이 필요하게 되었다.
- Codified best practices (코드화된 모범사례들): 프러덕션에서 잘 동작하는 코드를 커밋하고 서비스가 그 단순히 코드를 사용하게 함으로써 프러덕션 레디 상태가 되게 해준다.   
- Reusable solutions: 일반적이고 쉽게 공유할 수 있는 신뢰성과 확장성 문제를 경감하는데 사용되는 테크닉의 구현체.
- A common production platform with a common control surface (공통된 제어 인터페이스를 갖춘 공통 프로덕션 플랫폼): 프러덕션 설비에 대한 균일한 인터페이스 - 로깅, 모니터링, 설정
- Easier automation and smarter systems: 공통된 제어 인터페이스는 이전에는 불가능했던 자동화를 가능하게 한다. 예를들어 SRE는 장애가 발생했을 때 분산된 소스에서 로우데이터를 모으고 분석한것이 아닌 관련된 정보의 하나의 뷰를 손쉽게 받을 수 있다.

플랫폼을 도입하고 제품 개발팀은 프레임워크 솔수션을 사용해서 어플리케이션을 설계하게 되었다.
어플리케이션은 비지니스 로직으로 구성되고 다향한 인프라스트럭쳐 컴퍼넌트에 의존한다.
SRE는 프러덕션 관심사에 대한 표준적인 솔루션을 구현하기 위해서 프레임워크 모듈을 만들고, 그 결과 프레임워크가 올바른 인프라 사용을 책임지기 때문에 제품 개발팀은 비지니스 로직에 집중한다.
SRE가 짐중하는 프러덕션 관심사는 다음과 같다.
- Instrumentation and metrics
- Request logging
- Control systems involving traffic and load management

프레임워크란 본질적으로, 일련의 소프트웨어 구성 요소들을 사용하는 방식과 이들을 정형화된 방식으로 결합하는 방법을 규범적인 형태로 구현한 것이다.  
프레임워크는 일과된 방식으로 다양한 컴퍼넌트를 제어하는 기능을 노출 할 수 있다.
- 잘 정의된 컴퍼넌트로 구성되어 있는 비지니스 로직
- 모니터링 계측의 표준화된 차원
- 리퀘스트 디버깅 로그의 표준 포맷
- 부하분리를 관리하기위한 표준 설정
- 일관된 측정으로 사용할 수 있는 단일 서버의 용량과 "과부하" 여부의 판단 

프레임워크는 일관성과 효율성에서 몇배의 이득을 제공한다.    

## New Service and Management Benefits
### Significantly lower operational overhead
다음과 같은 이유로 프레임워크 위에 만들어진 프러덕션 플랫폼은 운영 간접비가 많이 낮아졌다.
- 코딩 구조와, 스타일, 테스트에 대한 준수 테스트를 지원하고 이로 인해서 데이터 프라이버시 테스팅 보안준수를 향상시킨다.
- 모든 서비스에 배포, 모니터링, 자동화기능이 빌트인 된다.
- 많은 수의 서비스 관리를 용이하게 한다.
- 배포를 훨씬 빠르게 한다: 하루안에 SRE 프러던션 수준으로 아이디어가 배포될 수 있다.

### Universal support by design
SRE 에 의해서 개발되고 관리되는 프러덕션 기능 사용해서 서비스가 만들어 지면서, SRE 스태핑의 장벽이 사라졌다.
SRE 가 지원하는 프러덕션 표준과 툴이 사용가능하게 됨으로써 구글의 전체적인 서비스 품질이 올라갔다.
프레임워크 와 같이 구현된 모든 서비스는 그것이 개선될 때 같이 이득을 얻게되었다.

### Faster, lower overhead engagements
다음과 같은 것에 의존함으로 PRR 실행또한 빨라졌다.
- 프레임워크 구현현의 일부로서 서비스에 내장된 기능들
- 빠른 서비스 온보딩
- 프레딤워크를 사용해서 만들어진 서비스들에 대한 낮은 인지부담

### A new engagement model based on shared responsibility
SRE 는 "플랫폼" 인프라에 대한 지원을 제공할 수 있게 되었고, 제품개발팀은 서비느에 기능적인 측면에 대한 온콜을 서포트하게 되었다.
이 모델(플랫폼)은 SRE 팀과 개발 팀 간의 상호작용에 있어 새로운 관계 모델 및 새로운 SRE 인력 배치 모델을 수반한다.

# Conclusion
처음에 런치된 서비스에 대해서 PRR 프로세스를 통해 SRE 가 참여했다.
이후 신뢰성을 위한 설계를 위해 조기 참여 모델을 도입했다.
SRE 의 전문성을 요구하는 서비스들이 늘어나면서 다른 참여 모델이 필요했고 플랫폼 프레임워크 모델이 등장했다.
프러덕션 모범사례의 코드 패턴들이 프레임워크 안에 표준화되고 캡슐화 되었으며, 
그 결과 프레임워크를 사용하는 것은 프러덕션 레디 서비스를 구축하는데 일관성이 있는 비교적 단순한 방법이 되었다.







