### 요약
```
SRE 와의 협업에서 약속하는 것은 제품 개발팀과 동일한 기술력을 지닌 신뢰성 전담 조직과 협업 한다면 가장 우수한 설계와 구현이 탄생한 다는 것이다.
SRE 팀의 문제에 대한 해결방법은 문화에 의해서 통일되어 있다. 
   
프러덕션 미팅은 운영의 지혜를 서비스에 가해서 서비스를 개선하고, 지금 무슨일이 일어나고 있는지 모두가 인식을 공유하는 것 이다.
다시 말하면 운영적인 퍼포먼스를 설계,설정,구현에 연관 시켜서 이야기하고 문제를 어떻게 고칠지에 대한 권고를 만드는 것이다.

SRE 팀 내의 협업: SRE 팀은 다양한 배경을 가진 구성원들로 이루어져 있으며, 기술적 방향을 이끄는 TL, 인사 및 기타 업무를 담당하는 메니저롤이 있다.
하지만 이들 모두 충분한 기술력을 가지고 있다.

SRE 팀과 외부와의 협업: SRE 는 나중에 고치기 힘든 아키텍쳐와 소프트웨어 행동에 대해서 조언할 수 있는 최고의 위치에 있음으로, 설계단계부터 제품개발팀과 협업하는것이 가장 좋다. 
```


# Communicating and Collaboration in SRE
구글에서 SRE 의 위치: SRE 는 다양한 업무와 사이즈를 가지고 구성원 또한 다양하다. 한가지 모델이 아니라 작동하는 다향한 설정을 개발해 왔고, 
이것은 실용주의 라는 SRE 의 철학에 딱 맞는다.

SRE 조직의 구조: 수직 조직이 아니다. 서비스 또는 인프라스트럭처 SRE 팀에 소속 되어 있으며 프러덕트 개발팀과 긴밀하게 협업한다.
서비스와 강한 관계를 가지고 있는데 이것은 SRE 가 시스템의 성능을 측정하기 때문이다.
문제 대한 접근방법은 설계(문화)에 의해 매우 통일되어 있다.  

커뮤니케이션과 협업의 발전 방향: 커뮤니케이션은 컴퓨팅에서 데이터 흐름으로 비교할 수 있다.
프로젝트, 서비스 상태, 프러덕션 현황, 구성원들의 상태등의 데이터가 원활하고 신뢰할 수 있는 방식으로 흘러야 한다.
협업은 SRE 팀이 외부에 제공해야할 인터페이스를 API로 생각하고 설계해야 한다.

SRE 와 협업에서 약속하는 것: 제품 개발팀과 동일한 기술력을 지닌 신뢰성 전담 조직과 협업 한다면 가장 우수한 설계와 구현이 탄생한다.

## Communications: Production Meetings
회의의 목적: 운영의 지혜를 서비스에 가해서 서비스를 개선하고, 지금 무슨일이 일어나고 있는지 모두가 인식을 공유하는 것 이다.
이것은 운영적인 퍼포먼스를 설계,설정,구현에 연관 시켜서 이야기하고 문제를 어떻게 고칠지에 대한 권고를 만드는 것이다.
정기적인 회의에서 설계결정과 퍼포먼스를 연결시키는 것은 강력한 피드백 루프이다.
※keyword : service-oriented
### Agenda
- Upcoming production changes
- Metrics
- Outages: 필수적인 배움의 기회: postmortem
- Paging events: 전술적인 관점에서 페이징 평가
- Non-paging events
- Prior action items: 위의 논의들이 실행사항을 도출한다. 이러한 사항들은 계속 추적　되어야한다. 명시적인 안건 항목을 계속 마련해 두는게 좋다. 일관된 접근은 신뢰를 만든다.
### Attendance
SRE 는 꼭 참가해야한다. 이해당사자도 참가해야하고 파트너 프러덕트 개발팀도 참가해야 할 수도 있다.
운영으로 부터의 피드백 루프를 가진다는 목표가 충족된다는게 중요하다.
효율적인 회의를 위해서 대표자를 추리고 구글 doc 같은 협업 툴을 사용하면 좋다.
협업 툴을 사용해서 바텀업으로 의제를 병렬로 준비해 나가는건 매우 효율적이고 구성원들에게 회의에 대한 주인의식을 고양시켜서 참여도를 높인다. 

## Collaboration within SRE (SRE 팀 내 협업)
SRE 팀의 구성 방식 - 분산 및 기술적 전문화 : 다양한 국가에 다향한 크기와 긴밀성을 가진 로컬 팀 대륙에 걸친팀, 가상의 팀이 있다. 이것이 팀의 정의를 유동적으로 만든다.    
이러한 분상 방식은 어떻게 팀이 조직되어야 하는지에도 영향을 미친다. SRE 는 기술적 숙련도를 높이기 위해 시스템과 인프라 일부에 대해서 전문화 하는 방식을 추구하지만,
정보 고립과 전체 그림을 놓칠 수 있다는 단점이 있다. 팀을 만들때 팀이 지원하는 것들에 대해서 명확하게 하려고 하지만 한상 성공하지는 않는다. 

### Team Composition (팀 구성)
성공적입 협업의 기회는 다양성을 가진 팀을 구성할 때 향상된다.
SRE 팀에는 "tech lead", "manager", "project manager" 롤이 있다.
어떤 사람은 이러한 롤의 책임이 명확하게 정의되어 있을 때 잘 동작하고, 또 다른 사람은 유동적인 환경에서 잘 동작한다.
보통 팀이 유동적일수록 개인의 역량이 발달되어 있다. 유동적이라는 것은 공통된 배경지식이 줄어든다는 것을 의미하는 것 임으로 더 많은 소통이 필요하다.

tech lead 은 팀의 기술적 방향에 대한 책임이 있다. 그리고 팀의 합의 형성을 위해서 다향항 방식으로 리드할 수 있다.
manager 도 tech lead 역할을 수행할 수 있지만, 성과 평가와 다른 사람들이 하지 않는 포괄적인 일을 맡는 두가지 책임을 가지고 있다.
훌륭한 tech lead, manager 는 완전한 스킬셋을 가지고 있고, 프로젝트를 조직하거나 설계 문서에 코멘트를 하거나 필요에 따라 코드를 작성에 기꺼이 능숙하게 할 수 있다.

### Techniques for Working Effectively
중요한 것을 달성하려면 꽤 많은 사람들이 필요하고 좋은 협업 스킬이 필수적이다.
좋은 SRE 작업은 커뮤니케이션 스킬이 필수적이며, 여기에는 글쓰기 스킬과 고품질 관계를 위한 만남도 포함된다.

## Case Study of Collaboration in SRE: Viceroy
서론: 모니터링 대쉬보드 프레임 워크의 일은 지금까지의 SRE 조직 아키텍쳐는 여러가지 이유로 같은 일의 조금만 다른 사본을 생성해 냈다.
이유는 간단했다. 각 팀은 그들의 솔루션을 개발하는데 보상을 받았다. 팀 바운더리 밖에서 일하는 것은 어렵고,
SRE 팀들이 사용하는 인프라스트럭쳐는 프러덕트 라기보다는 툴킷에 가까웠따.
이 환경에서 엔지니어들이 많은 사람들에게 영향을 끼치고 노력이 많이드는 근본적이 문제 해결보다는 이를 사용해서 임시 방평의 솔루션을 만들게 되었다.

### The Coming of the Viceroy
기존 모니터링 시스템에 개선할 수 있는 공간이 없어서 사내에서 새로운 모니터링 시스템으로의 마이그레이션이 이루어지고 있었다.
새 모니털이 시스템에서는 콘솔에 대한 지원이 부족하다는걸 깨달았다.
그 당시에는 전 그룹에 걸쳐서 솔루션을 개발을 조정하거나 추적하는 방법이 없어서, 각 팀은 각자의 솔루션을 개발하게 되었다.
1년 정도의 시간이 지나서, 각 팀에서 중복된 작업을 한다는게 발견되었고 팀들은 합리적인 일을 하기로 결정하고,
새로운 SRE 를 위한 일반적인 솔루션을 만들기 위해 힘을 합쳤다. Viceroy 프로젝트의 시작이었다.

다음 두가지의 주요 요구사항을 공유했지만 각 팀에서 다양항 요구사항이 있었다.
- 복잡한 선별된 대쉬보드를 지원해야 한다.
- 새로운 모니터링 시스템과 기존 모니터링 시스템 둘을 지원해야 한다.
기존 Consoles++ 프로젝트와 통합을 시도하려 했지만 근본적인 차이 때문에 그럴 수 없었다.
통합을 보류한체로 각각의 프로젝트는 반년정도 개발되었고 2013년 말 통합이 훨씬 용이해 졌다는걸 깨닫고
두 프로젝트가 Viceroy 로 통합 되었다. 통합된 프로토타입은 한 두달 정도 후에 완료 되었고, 몇몇 시스템에 제공되었다.
모든 기능을 갖추는데는 몇몇 쿼터가 더 걸렸고  2024년 말에는 통합 시스템이 완성 되었다.

힘을 합치는것은 개발 속도 향상, 서로의 약점 보완등 큰 이득을 제공했다.
궁극적으로 두 프로젝트를 합치는데 공통된 미래 비전이 중요 요소 였다.
Viceroy 는 모든 SRE 를 위한 공식적인 콘솔 솔루션으로 선언 되었다.  

### Challenges
여러 지역에 걸친 팀이이라는 본성 때문에, 커뮤니케이션 스타일이 차이로 인한 의사소통 오류가 발생하고 특정 사이트에서 이루어지는 짧은 논의가 공유되지 않았다.
코어 컨트리뷰터가 꽤 일관성이 있었던것에 비해서, 확장된 기여자 팀은 꽤 드나듬이 있었다.
새로운 사람을 프로젝트에 추가한다는 것은 시스템 구조에 대한 전체적인 설계에 대해서 교육을 필요로 했다.
사람들이 팀에 조인하고 떠나갈때 공헌은 유용하지만 비용도 크다는것을 반견 했는데 가장 큰 비용은, 소유권의 희석으로 특정 기능을 제공하던 담장자가 팀을 떠나게되면
그 기능이 중단되는 것 이었다.
프로젝트의 스코프가 성정하면서 코어 기능을 제시간에 전달하기 위해 고분분투해야 했으며 프로젝트 관리를 개선하고 프로젝트가 진행되도록 더 명확한 방향을 설정해야 했다.
분산된 사이트에서 상당히 공헌 받는 컴퍼넌트에 대해 완전한 소유권을 가지는것이 어려웠다.
먼 곳에 있는 오너를 개입시키지 않고 로컬에서 결정을 내리거나 이슈에 대해 의논하는 것으로 갈등이 생겼다.   
 
### Recommendations
여려 지역에 걸친 프로젝트는 그게 꼭 필요할때만 진행해야 한다. 이것은 행동에 지연이 크고 커뮤니케이션이 더 요구되지만 제대로된 장치들이 있다면 처리량 또한 크다.
참여자들이 프로젝트에 실제로 공헌하는지 확인해야한다. 달성하고자 하는 구체적인 목표가 있는 참여자가 더 동기부여가 되고 공헌을 잘 유지할 수 있다.
프로젝트 리더는 프로젝트의 장기적인 비전을 제공하고 일들이 그 비전과 함께 정렬되고 또한 일들에 적절하게 우선순위를 매겨야한다.
합의된 의사결정 방식이 필요하며, 높은 수준의 합의와 신뢰가 있는경우 현지에서 더 많은 의사결정을 내릴 수 있도록 최적화 해야 한다.
쪼개고 정복하기는 여러지역에 걸친 프로젝트에서도 동작한다. 프로젝트를 가능한 적절한 크기의 컴퓨넌트로 나누고, 같은 사이트에 있는 소규모 팀에 할당하면 커뮤니케이션 비용을 줄일 수 있다.
(콘웨이의 법칙이 소프트웨어의 본래모습을 외곡하도록 하게 하면 안된다.)
기능 및 문제 해결에 목표가 있을 때 프로젝트팀의 일을 잘 동작한다. 이 접근 방법은 컴퍼넌트에서 작업하는 개인들이 그들에게 무엇을 요구하는지 알도록 한다.
Writing things down is one of the major techniques you have to offset physical and/or logical distance - use it.
표준은 중요하다. 이슈에 대해서 결정을 할때 정해진 시간 내에서 팀과 토론해라. 
솔루션을 선택하고 문서화 하고 다음으로 이동하는것을 반복하면 베스트 프랙티스의 컬랙션을 가지게 될 것이고 새로운 사람들을 빠르게 도울 수 있을 것이다.
사람대 사람의 상호작용의 대안은 없다. 프로젝트의 리더들이 있다면 그사람들과 대면 소통을 해야하고, 가능하다면 모두가 참가하는 서밋을 개최해서 디자인과 목표에 대해서 논의 해야 한다.
프로젝트의 현재 상태에 맞는 관리 스타일을 사용해야 한다. 

## Collaboration Outside SRE
SRE와 제품개발팀이 협업은 이른 설계 단계에서부터 이루어지는 것이 가장 좋다.
SRE 는 나중에 고치기 힘든 아키텍쳐와 소프트웨어 행동에 대해서 조언할 수 있는 최고의 위치에 있다.
몇몇 서비스팀에 대해서는 이러한 협업이 그들의 하는것(새로운 설계를 추적하고, 추천하고, 구현을 돕고 그것이 프러덕션까지 이어지는 것을 보는 것)의 중심이 된다. 

## Case Study: Migrating DFP to F1 (DFP 라는 광고를 관리하는 툴의 db 를 mysql 에서 f1 으로 마이그레이션 하기)
기술 변경뿐 아니라 db 의 schema 도 변경해야 했다. 목표는 처리 시스템의 마이그레이션으로 이전 시스템과 정확히 동일한 데이터를 생성하도록 하는 것 이었다.
고객을 방해하지 않는 심리스 마이크레이션이어야 해서 새로운 인덱싱 서비스의 극 초기 단계에서 부터 프러덕트 개발팀과 SRE 팀이 협업했다.
제품 개발팀은 상대적으로 BL 에 친숙했고, SRE 는 인프라스트럭처 컴퍼넌트에 친숙했다.
인프라스트럭쳐의 변경이 BL 에 영향을 주는 경우가 있어서, 확장가능하고 신뢰성있는 데이터 처리에 대한 전문가인 SRE 가 새로운 인프라스트럭쳐를 설계하는 것으로 시작되었다.
새로 제안된 인프라스럭쳐에 데이터를 처리하는 다른 서비스와 유사한 패턴이 보였기 때문에 툴링과 모니터링의 부분을 재사용 했다.
개발 전에 설계 문서를 먼저 작성 보강했다. 인프라스트럭쳐와 BL이 연관되어 있는 변경은 SRE 팀과 제품 개발팀이 공유했다.
프로젝트의 나중 단계에서 프러덕션 환경과 비슷한 테스트 환경에 새로운 서비스를 배포해서 리소스 사용량과 퍼포먼스를 측정했다.
제품 개발팀은 새로운 서비스의 검증에 테스트 환경을 사용했다. 예상대로 엣지케이스로 인한 불일치가 발견되었고 불일치를 야기한 BL을 반복적으로 수정했다.
그동안 SRE 는 프러덕션 환경을 준비했다.(인프라 스트럭쳐 올콜 엔지니어 교 모니터링 룰 설정 등) 그리고 기본적이 릴리즈 프로세스를 셋팅했다.
테스크는 대부분은 제품개발팀에 의해서 일부는 Release Engineer 와 SRE 에 의해서 완료 되었다. 
서비스가 준비되었을 때 SRE 는 rollout 계획을 준비하고 런치했다. 유저가 볼수 있는 영향이 없이 런치는 부드럽고 성공적으로 진행되었다.  

## Conclusion
글로벌하게 분산되어있는 SRE 팀들의 특성에서 효과적인 의사소통을 우선과제로 삼아왔다.
협업간에는 여러 도전이 있지만 공통된 협업 구조를 만들고 효율화 해서 문제해결에 시너지를 만든다.
